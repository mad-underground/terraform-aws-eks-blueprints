module "eks" {
  source = "../../"
  count = var.eks_cluster.create_eks ? 1 : 0
  tags = var.eks_cluster.tags
  vpc_id = var.eks_cluster.vpc_id
  private_subnet_ids = var.eks_cluster.private_subnet_ids
  public_subnet_ids = var.eks_cluster.public_subnet_ids
  control_plane_subnet_ids = var.eks_cluster.control_plane_subnet_ids
  create_eks = var.eks_cluster.create_eks
  cluster_timeouts = var.eks_cluster.cluster_timeouts
  cluster_name = var.eks_cluster.cluster_name
  cluster_version = var.eks_cluster.cluster_version
  create_cluster_security_group = var.eks_cluster.create_cluster_security_group
  cluster_security_group_name = var.eks_cluster.cluster_security_group_name
  cluster_security_group_use_name_prefix = var.eks_cluster.cluster_security_group_use_name_prefix
  cluster_security_group_description = var.eks_cluster.cluster_security_group_description
  cluster_security_group_id = var.eks_cluster.cluster_security_group_id
  cluster_additional_security_group_ids = var.eks_cluster.cluster_additional_security_group_ids
  cluster_security_group_additional_rules = var.eks_cluster.cluster_security_group_additional_rules
  cluster_security_group_tags = var.eks_cluster.cluster_security_group_tags
  cluster_endpoint_public_access = var.eks_cluster.cluster_endpoint_public_access
  cluster_endpoint_private_access = var.eks_cluster.cluster_endpoint_private_access
  cluster_endpoint_public_access_cidrs = var.eks_cluster.cluster_endpoint_public_access_cidrs
  cluster_kms_key_arn = var.eks_cluster.cluster_kms_key_arn
  cluster_kms_key_deletion_window_in_days = var.eks_cluster.cluster_kms_key_deletion_window_in_days
  cluster_kms_key_additional_admin_arns = var.eks_cluster.cluster_kms_key_additional_admin_arns
  enable_cluster_encryption = var.eks_cluster.enable_cluster_encryption
  cluster_encryption_config = var.eks_cluster.cluster_encryption_config
  cluster_ip_family = var.eks_cluster.cluster_ip_family
  cluster_service_ipv4_cidr = var.eks_cluster.cluster_service_ipv4_cidr
  cluster_service_ipv6_cidr = var.eks_cluster.cluster_service_ipv6_cidr
  create_cloudwatch_log_group = var.eks_cluster.create_cloudwatch_log_group
  cluster_enabled_log_types = var.eks_cluster.cluster_enabled_log_types
  cloudwatch_log_group_retention_in_days = var.eks_cluster.cloudwatch_log_group_retention_in_days
  cloudwatch_log_group_kms_key_id = var.eks_cluster.cloudwatch_log_group_kms_key_id
  create_iam_role = var.eks_cluster.create_iam_role
  iam_role_arn = var.eks_cluster.iam_role_arn
  iam_role_name = var.eks_cluster.iam_role_name
  iam_role_path = var.eks_cluster.iam_role_path
  iam_role_description = var.eks_cluster.iam_role_description
  iam_role_permissions_boundary = var.eks_cluster.iam_role_permissions_boundary
  iam_role_additional_policies = var.eks_cluster.iam_role_additional_policies
  enable_irsa = var.eks_cluster.enable_irsa
  openid_connect_audiences = var.eks_cluster.openid_connect_audiences
  custom_oidc_thumbprints = var.eks_cluster.custom_oidc_thumbprints
  cluster_identity_providers = var.eks_cluster.cluster_identity_providers
  managed_node_groups = var.eks_cluster.managed_node_groups
  self_managed_node_groups = var.eks_cluster.self_managed_node_groups
  enable_windows_support = var.eks_cluster.enable_windows_support
  create_node_security_group = var.eks_cluster.create_node_security_group
  node_security_group_name = var.eks_cluster.node_security_group_name
  node_security_group_use_name_prefix = var.eks_cluster.node_security_group_use_name_prefix
  node_security_group_description = var.eks_cluster.node_security_group_description
  node_security_group_additional_rules = var.eks_cluster.node_security_group_additional_rules
  node_security_group_tags = var.eks_cluster.node_security_group_tags
  worker_additional_security_group_ids = var.eks_cluster.worker_additional_security_group_ids
  fargate_profiles = var.eks_cluster.fargate_profiles
  map_accounts = var.eks_cluster.map_accounts
  map_roles = var.eks_cluster.map_roles
  map_users = var.eks_cluster.map_users
  aws_auth_additional_labels = var.eks_cluster.aws_auth_additional_labels
  eks_readiness_timeout = var.eks_cluster.eks_readiness_timeout
  enable_emr_on_eks = var.eks_cluster.enable_emr_on_eks
  emr_on_eks_teams = var.eks_cluster.emr_on_eks_teams
  application_teams = var.eks_cluster.application_teams
  platform_teams = var.eks_cluster.platform_teams
}